# Licensed to ObjectStyle LLC under one or more
# contributor license agreements. See the NOTICE file distributed with
# this work for additional information regarding copyright ownership.
# The ObjectStyle LLC licenses this file to You under the Apache License, Version 2.0
# (the "License"); you may not use this file except in compliance with
# the License. You may obtain a copy of the License at
#
# http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

language: java

jdk:
  - openjdk8
  - openjdk11
  - openjdk-ea

script:
  - mvn clean verify

jobs:
  include:
    - stage: deploy
      jdk: openjdk8
      script: mvn clean source:jar javadoc:javadoc deploy -DskipTests --settings travis_settings.xml
      if: branch IN (master, 1.0-STABLE) AND type IN (push) AND repo = bootique/bootique-mvc
      
# travis encrypt -r bootique/bootique-mvc "CI_DEPLOY_USERNAME='name'"
# travis encrypt -r bootique/bootique-mvc "CI_DEPLOY_PASSWORD='password'"
env:
  global:
    - secure: "Z2zJOfl9aUd8Zo6DF5Hu97N1guy+xsSE4giJ9+n21+ICQAs3CtnITuxYVVOG+OGnasX9VIwUXKEZjZRSU5Zdy8taLUlM1bRaLnOJLYQlvU1zhydY0uOtzMrVw6wonL21MaKaamWCXARyMF5yhEtQneebdhm2GNiBin+PZknxfc1u3pr1YU0CX4aktVrGyqHV/plC61v9t0coMFDCglPysWJl0nSKw6wlbuSCRKdkE4nd95cDX0CRoAZH7Jf1AKW6l6EmugPXntb1E9EKQiDKJfBcxaIWvLfvPwo16rBOqv71OMCwPfUjCGB8OfuAlPpJvmA+Mf1AUR3EwF26KGkcjfIZPxzucULLFs+4N2K5OF2vTdXr8kNDhutKGqsOVrnNCDRNRrmDq35nUAZt9yPONP+1s34tSuxgksa30UW/xOJmOr0md9rYKoQAOEoDaQIjs8fNqh1RqcOytEiZRtjHG86vckhL2vcKqQbuUluutTjJAY+9y0JSOD3TZFkBw3Qyn/VCVL2E5tVrmWH1tL5wL3FQkt54GJJsJDccP8zf1T71zZV5awq8E2gMm6vJpewuQKXPHLAFawBtQ8R9jSXbOsnFBLpehiIs32uQmrGC+t/YyW9Pwk+vfKnqFRqPH0FGTifhMKYRxIk74TH6j/zuUbQHn0gxeNqBC3GiFo8efn8="
    - secure: "qFP7KZpHxSkVSn6H28L/lVD2e3+kZ3B9VZqQy8HkN7eQRs4Z1BPCtBq2Rnd0Lo60W53XAFs7govqUMp7vCs3vXbQ16tXar9cr7KzChPH7jC71GHeFQQ5UHO/wkvb9myT/C2wvLEk+JYkXj7q3ZzcHLXO07L12HSTlAzJYmAzUYQPeNP0hgG3+BmMxc3Y+Km9xsHEoLO9QVS/CVcaT/1Fn/ZTskIxEFkitnBMGCSXMNlIxJKx68y6KpHwQJ4CaV1/FocfdvoP1hArMkOIlIVXSZF80gQO2sFtB4zqBpOEkS0mlaHTnCDlskF7heAZLWl3Z+Obu8eX3ZulkRsZYWibgzDgaGnx/6yn5M/yemmTZMKREfLUu63k9aBTcHuW5RO1IGuDBHkpQ0JrzUkdz1jMh/zjeWaNbNpdEofLELnVW+H7YA2LE71H61TU+yE4k+qyvikNagmK+nhIoFshF8vxuCIRkIvwVI65UWXE2/wngIFTM4b/jbE3qHj7fTTAn7WNLlYfnGY6+bhAMImmfaB6MzZ5PdlF7WH4Yg98VrNiCU1gJYlqS6yQjlCTilw0qgcaK6CwEOYoZfNHyrcrINyWtdIwlnFSHmC/dX3PqvCvBh6/Z+mt6GKp9miil450J2gh+ZICcJt1MCI3y8j25oy1Zz8cN4TkHv9yYT150vXn1TE="
